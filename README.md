# 房贷分阶段利率与提前还款可视化工具

一个专业的房贷计算器，支持分阶段利率调整和提前还款分析，提供直观的可视化图表和详细的计算结果。

## 🌟 功能特色

### 核心功能
- **分阶段利率支持**：支持多个利率调整阶段，自动重算还款计划
- **提前还款分析**：支持多种提前还款模式（缩短期数/降月供）
- **可视化图表**：月供变化、累计利息、本金余额的交互式图表
- **智能分析**：IRR分析、敏感性分析、情景分析

### 交互体验
- **智能输入建议**：常用参数一键选择
- **实时表单验证**：输入时即时反馈
- **快速添加功能**：常用配置快速设置
- **配置管理**：复制/粘贴/重置配置

### 结果分析
- **详细指标**：总利息、节省金额、还款期数对比
- **趋势分析**：利息节省趋势、还款时机建议
- **投资建议**：基于节省效果的智能建议

## 🚀 快速开始

### 在线使用
访问 [GitHub Pages](https://www.deeer.cn/HouseLoad/) 直接使用

### 本地运行
1. 克隆项目
```bash
git clone https://github.com/Deeer/HouseLoad.git
cd HouseLoad
```

2. 打开 `index.html` 文件
```bash
open index.html
```

## 📊 使用说明

### 基础参数设置
- **贷款本金**：输入贷款金额（支持100万-500万快速选择）
- **总期数**：选择还款期限（10年-30年快速选择）
- **还款方式**：等额本息或等额本金
- **初始年利率**：设置基准利率（3.5%-4.5%常用利率）

### 分阶段利率设置
1. 点击"添加阶段"按钮
2. 输入起始期数和新年利率
3. 或使用快速添加按钮（第13期4.0%、第25期4.2%等）

### 提前还款设置
1. 输入提前还款期数和金额
2. 选择还款模式：
   - 缩短期数：保持月供不变，减少还款期数
   - 降月供：保持期数不变，降低每月还款额
3. 或使用快速添加按钮（第12期5万、第24期10万等）

### 结果分析
- **图表展示**：月供变化、累计利息、本金余额
- **指标对比**：不提前vs提前后的详细对比
- **智能建议**：基于节省效果的投资建议

## 🛠️ 技术架构

### 前端技术
- **HTML5**：语义化结构
- **CSS3**：现代化样式，深色主题
- **JavaScript ES6+**：核心计算逻辑
- **ECharts**：数据可视化图表

### 核心算法
- **等额本息计算**：`annuityPayment()` 函数
- **等额本金计算**：`buildSchedule()` 函数
- **分阶段利率处理**：`parseStages()` 函数
- **提前还款逻辑**：`applyPrepayment()` 函数
- **IRR计算**：`calculateIRR()` 函数（牛顿法）

### 数据结构
```javascript
// 还款计划数据结构
{
  month: 1,           // 期数
  payment: 10000,     // 月供
  interest: 6000,     // 利息
  principal: 4000,    // 本金
  balance: 1996000,   // 剩余本金
  stage: 1,           // 利率阶段
  annualRate: 3.8     // 年利率
}
```

## 📈 功能演示

### 示例场景1：LPR下调
- 初始利率：3.8%
- 第13期调整：3.5%
- 提前还款：第12期10万

### 示例场景2：LPR上调
- 初始利率：3.8%
- 第13期调整：4.2%
- 提前还款：第24期15万

### 示例场景3：分阶段还款
- 初始利率：3.8%
- 第13期：4.0%
- 第25期：3.9%
- 第37期：3.7%

## 🔧 高级功能

### IRR分析
- 计算内部收益率
- 对比提前还款前后的IRR变化
- 评估投资回报效果

### 敏感性分析
- 利率变化对总利息的影响
- 多场景对比分析
- 风险评估

### 情景分析
- 乐观/基准/悲观情景
- 不同利率和提前还款组合
- 综合效果评估

## 📱 响应式设计

- **桌面端**：完整功能展示
- **平板端**：自适应布局
- **移动端**：优化触摸交互

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request！

### 开发环境
1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 发起 Pull Request

### 代码规范
- 使用 ES6+ 语法
- 遵循 JavaScript 标准
- 添加必要的注释

## 📄 许可证

MIT License - 详见 [LICENSE](LICENSE) 文件

## 🙏 致谢

- [ECharts](https://echarts.apache.org/) - 数据可视化库
- [GitHub Pages](https://pages.github.com/) - 静态网站托管

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- 提交 [Issue](https://github.com/Deeer/HouseLoad/issues)


---

⭐ 如果这个项目对你有帮助，请给个 Star 支持一下！
